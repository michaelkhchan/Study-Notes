### Introduction
---
To attack WPA Personal, we must have an existing client connected to the AP. We will then attempt the capture a WPA 4-way handshake between the client and the AP by de-authenticating the client, and sniff the packets when it attempts to reconnect to the AP.


### Attack Steps
---
##### Step 1. Capturing Handshakes:
Upon located our targeted AP, we can capture packets from the AP:
```sh
sudo airodump-ng --channel <channel no.> -w <output file> --essid <AP essid> --bssid <AP bssid> wlan0mon
```
- Keep this running in the background.
- If a WPA handshake packet is captured, it will print out a notification on the top-right corner.

##### Step 2. De-authenticate the client from the AP:
Next, we de-auth a connected client from the AP and wait for it to reconnect.
```sh
sudo aireplay-ng -0 4 -a <AP bssid> -c <Target Client bssid> wlan0mon
```
- Try omitting the `-c` to run broadcast de-auth if the attack is not working.
- If the attack is successful, `airodump-ng` should print out a notification on the top-right corner.
- If 802.11w is used, unencrypted de-auth will not be accepted. We can only wait for a client to connect.


##### Step 3. Cracking WPA Key:
Lastly, we use aircrack-ng (or any hash cracking tools) to brute force the output `.cap` file from `airodump-ng` to obtain the network key.
``` sh
aircrack-ng <.cap file> -w <wordlist>
```

